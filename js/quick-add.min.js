(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

jQuery(function ($) {
	var $modal = $('#plt-quick-add');
	var $form = $modal.find('form:first');
	var $saveDraft = $('#plt-quick-add-save');
	var $publish = $('#plt-quick-add-publish');
	var $menuItem = $('a[href$="post_type=page&page=plt-add-page-link"]');
	var $message = $modal.find('.message');
	var $title = $modal.find('[name="title"]');
	var $url = $modal.find('[name="url"]');
	var $slug = $modal.find('[name="slug"]');
	var defaultSlugPlaceholder = $slug.prop('placeholder');
	var yes = true,
	    no = false;


	var modalAction = function modalAction(action) {
		return function () {
			return $modal.dialog(action);
		};
	};
	var isOpen = modalAction('isOpen');
	var open = modalAction('open');
	var close = modalAction('close');

	var makeSlug = function makeSlug() {
		var title = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';

		return title.toLowerCase().replace(/\s+/g, '-').replace(/-{2,}/g, '-').replace(/[^a-z0-9-]/, '').replace(/-$/, '').replace(/^-/, '');
	};

	var setMessage = function setMessage(message) {
		$message.html(message);
	};

	var setExpiringMessage = function setExpiringMessage(message, duration) {
		setMessage(message);
		setTimeout(function () {
			return setMessage('');
		}, duration);
	};

	var updateSlug = function updateSlug() {
		var slug = makeSlug($title.val());

		$slug.prop('placeholder', slug.length ? slug : defaultSlugPlaceholder);
	};

	var noDefaultEvent = function noDefaultEvent(func) {
		return function (e) {
			e.preventDefault();
			func();
		};
	};

	var reset = function reset() {
		$title.val('');
		$url.val('');
		$slug.val('');
	};

	var submit = function submit() {
		var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
		    _ref$publish = _ref.publish,
		    publish = _ref$publish === undefined ? yes : _ref$publish;

		var title = $title.val();
		var url = $url.val();
		var slug = $slug.val() ? $slug.val() : makeSlug(title);

		$.post(ajaxurl, {
			action: 'plt_quick_add',
			plt_title: title,
			plt_url: url,
			plt_slug: slug,
			plt_publish: publish ? 1 : 0
		}, function (response) {
			var status = response.data.status;

			var statusText = 'publish' === status ? 'published' : 'saved';
			var delay = 1500;
			reset();
			setExpiringMessage('Link ' + statusText + '!', delay);
			setTimeout(close, delay);
		});
	};

	var clickMenuItem = noDefaultEvent(function () {
		return isOpen() ? close() : open();
	});
	var saveDraft = noDefaultEvent(function () {
		return submit({ publish: no });
	});
	var publish = noDefaultEvent(function () {
		return submit({ publish: yes });
	});

	$modal.dialog({
		title: 'Add Page Link',
		dialogClass: 'wp-dialog',
		autoOpen: no,
		draggable: no,
		width: 'auto',
		modal: yes,
		resizable: no,
		closeOnEscape: yes,
		position: {
			my: 'center',
			at: 'center',
			of: window
		},
		open: function open() {
			return $('.ui-widget-overlay').bind('click', close);
		},
		create: function create() {
			return $('.ui-dialog-titlebar-close').addClass('ui-button');
		}
	});

	// Events.
	$title.keyup(updateSlug);
	$menuItem.click(clickMenuItem);
	$saveDraft.click(saveDraft);
	$publish.click(publish);
	$form.submit(publish);
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9xdWljay1hZGQuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxPQUFPLGFBQUs7QUFDWCxLQUFNLFNBQVMsRUFBRSxnQkFBRixDQUFmO0FBQ0EsS0FBTSxRQUFRLE9BQU8sSUFBUCxDQUFZLFlBQVosQ0FBZDtBQUNBLEtBQU0sYUFBYSxFQUFFLHFCQUFGLENBQW5CO0FBQ0EsS0FBTSxXQUFXLEVBQUUsd0JBQUYsQ0FBakI7QUFDQSxLQUFNLFlBQVksRUFBRSxrREFBRixDQUFsQjtBQUNBLEtBQU0sV0FBVyxPQUFPLElBQVAsQ0FBWSxVQUFaLENBQWpCO0FBQ0EsS0FBTSxTQUFTLE9BQU8sSUFBUCxDQUFZLGdCQUFaLENBQWY7QUFDQSxLQUFNLE9BQU8sT0FBTyxJQUFQLENBQVksY0FBWixDQUFiO0FBQ0EsS0FBTSxRQUFRLE9BQU8sSUFBUCxDQUFZLGVBQVosQ0FBZDtBQUNBLEtBQU0seUJBQXlCLE1BQU0sSUFBTixDQUFXLGFBQVgsQ0FBL0I7QUFWVyxLQVdKLEdBWEksR0FXUSxJQVhSO0FBQUEsS0FXQyxFQVhELEdBV2MsS0FYZDs7O0FBYVgsS0FBTSxjQUFjLFNBQWQsV0FBYztBQUFBLFNBQVU7QUFBQSxVQUFNLE9BQU8sTUFBUCxDQUFjLE1BQWQsQ0FBTjtBQUFBLEdBQVY7QUFBQSxFQUFwQjtBQUNBLEtBQU0sU0FBUyxZQUFZLFFBQVosQ0FBZjtBQUNBLEtBQU0sT0FBTyxZQUFZLE1BQVosQ0FBYjtBQUNBLEtBQU0sUUFBUSxZQUFZLE9BQVosQ0FBZDs7QUFFQSxLQUFNLFdBQVcsU0FBWCxRQUFXLEdBQWdCO0FBQUEsTUFBZixLQUFlLHVFQUFQLEVBQU87O0FBQ2hDLFNBQU8sTUFDTCxXQURLLEdBRUwsT0FGSyxDQUVHLE1BRkgsRUFFVyxHQUZYLEVBR0wsT0FISyxDQUdHLFFBSEgsRUFHYSxHQUhiLEVBSUwsT0FKSyxDQUlHLFlBSkgsRUFJaUIs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QWtCQTtBQUNBLFFBQU8sS0FBUCxDQUFhLFVBQWI7QUFDQSxXQUFVLEtBQVYsQ0FBZ0IsYUFBaEI7QUFDQSxZQUFXLEtBQVgsQ0FBaUIsU0FBakI7QUFDQSxVQUFTLEtBQVQsQ0FBZSxPQUFmO0FBQ0EsT0FBTSxNQUFOLENBQWEsT0FBYjtBQUNBLENBeEdEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwialF1ZXJ5KCQgPT4ge1xuXHRjb25zdCAkbW9kYWwgPSAkKCcjcGx0LXF1aWNrLWFkZCcpO1xuXHRjb25zdCAkZm9ybSA9ICRtb2RhbC5maW5kKCdmb3JtOmZpcnN0Jyk7XG5cdGNvbnN0ICRzYXZlRHJhZnQgPSAkKCcjcGx0LXF1aWNrLWFkZC1zYXZlJyk7XG5cdGNvbnN0ICRwdWJsaXNoID0gJCgnI3BsdC1xdWljay1hZGQtcHVibGlzaCcpO1xuXHRjb25zdCAkbWVudUl0ZW0gPSAkKCdhW2hyZWYkPVwicG9zdF90eXBlPXBhZ2UmcGFnZT1wbHQtYWRkLXBhZ2UtbGlua1wiXScpO1xuXHRjb25zdCAkbWVzc2FnZSA9ICRtb2RhbC5maW5kKCcubWVzc2FnZScpO1xuXHRjb25zdCAkdGl0bGUgPSAkbW9kYWwuZmluZCgnW25hbWU9XCJ0aXRsZVwiXScpO1xuXHRjb25zdCAkdXJsID0gJG1vZGFsLmZpbmQoJ1tuYW1lPVwidXJsXCJdJyk7XG5cdGNvbnN0ICRzbHVnID0gJG1vZGFsLmZpbmQoJ1tuYW1lPVwic2x1Z1wiXScpO1xuXHRjb25zdCBkZWZhdWx0U2x1Z1BsYWNlaG9sZGVyID0gJHNsdWcucHJvcCgncGxhY2Vob2xkZXInKTtcblx0Y29uc3QgW3llcywgbm9dID0gW3RydWUsIGZhbHNlXTtcblxuXHRjb25zdCBtb2RhbEFjdGlvbiA9IGFjdGlvbiA9PiAoKSA9PiAkbW9kYWwuZGlhbG9nKGFjdGlvbik7XG5cdGNvbnN0IGlzT3BlbiA9IG1vZGFsQWN0aW9uKCdpc09wZW4nKTtcblx0Y29uc3Qgb3BlbiA9IG1vZGFsQWN0aW9uKCdvcGVuJyk7XG5cdGNvbnN0IGNsb3NlID0gbW9kYWxBY3Rpb24oJ2Nsb3NlJyk7XG5cblx0Y29uc3QgbWFrZVNsdWcgPSAodGl0bGUgPSAnJykgPT4ge1xuXHRcdHJldHVybiB0aXRsZVxuXHRcdFx0LnRvTG93ZXJDYXNlKClcblx0XHRcdC5yZXBsYWNlKC9cXHMrL2csICctJylcblx0XHRcdC5yZXBsYWNlKC8tezIsfS9nLCAnLScpXG5cdFx0XHQucmVwbGFjZSgvW15hLXowLTktXS8sICcnKVxuXHRcdFx0LnJlcGxhY2UoLy0kLywgJycpXG5cdFx0XHQucmVwbGFjZSgvXi0vLCAnJyk7XG5cdH07XG5cblx0Y29uc3Qgc2V0TWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG5cdFx0JG1lc3NhZ2UuaHRtbChtZXNzYWdlKTtcblx0fTtcblxuXHRjb25zdCBzZXRFeHBpcmluZ01lc3NhZ2UgPSAobWVzc2FnZSwgZHVyYXRpb24pID0+IHtcblx0XHRzZXRNZXNzYWdlKG1lc3NhZ2UpO1xuXHRcdHNldFRpbWVvdXQoKCkgPT4gc2V0TWVzc2FnZSgnJyksIGR1cmF0aW9uKTtcblx0fVxuXG5cdGNvbnN0IHVwZGF0ZVNsdWcgPSAoKSA9PiB7XG5cdFx0Y29uc3Qgc2x1ZyA9IG1ha2VTbHVnKCR0aXRsZS52YWwoKSk7XG5cblx0XHQkc2x1Zy5wcm9wKCdwbGFjZWhvbGRlcicsIHNsdWcubGVuZ3RoID8gc2x1ZyA6IGRlZmF1bHRTbHVnUGxhY2Vob2xkZXIpO1xuXHR9O1xuXG5cdGNvbnN0IG5vRGVmYXVsdEV2ZW50ID0gZnVuYyA9PiBlID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZnVuYygpO1xuXHR9O1xuXG5cdGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuXHRcdCR0aXRsZS52YWwoJycpO1xuXHRcdCR1cmwudmFsKCcnKTtcblx0XHQkc2x1Zy52YWwoJycpO1xuXHR9O1xuXG5cdGNvbnN0IHN1Ym1pdCA9ICh7IHB1Ymxpc2ggPSB5ZXMgfSA9IHt9KSA9PiB7XG5cdFx0Y29uc3QgdGl0bGUgPSAkdGl0bGUudmFsKCk7XG5cdFx0Y29uc3QgdXJsID0gJHVybC52YWwoKTtcblx0XHRsZXQgc2x1ZyA9ICRzbHVnLnZhbCgpID8gJHNsdWcudmFsKCkgOiBtYWtlU2x1Zyh0aXRsZSk7XG5cblx0XHQkLnBvc3QoYWpheHVybCwge1xuXHRcdFx0YWN0aW9uOiAncGx0X3F1aWNrX2FkZCcsXG5cdFx0XHRwbHRfdGl0bGU6IHRpdGxlLFxuXHRcdFx0cGx0X3VybDogdXJsLFxuXHRcdFx0cGx0X3NsdWc6IHNsdWcsXG5cdFx0XHRwbHRfcHVibGlzaDogcHVibGlzaCA/IDEgOiAwLFxuXHRcdH0sXG5cdFx0KHJlc3BvbnNlKSA9PiB7XG5cdFx0XHRjb25zdCB7IHN0YXR1cyB9ID0gcmVzcG9uc2UuZGF0YTtcblx0XHRcdGNvbnN0IHN0YXR1c1RleHQgPSAncHVibGlzaCcgPT09IHN0YXR1cyA/ICdwdWJsaXNoZWQnIDogJ3NhdmVkJztcblx0XHRcdGNvbnN0IGRlbGF5ID0gMTUwMDtcblx0XHRcdHJlc2V0KCk7XG5cdFx0XHRzZXRFeHBpcmluZ01lc3NhZ2UoYExpbmsgJHtzdGF0dXNUZXh0fSFgLCBkZWxheSk7XG5cdFx0XHRzZXRUaW1lb3V0KGNsb3NlLCBkZWxheSk7XG5cdFx0fSk7XG5cdH07XG5cblx0Y29uc3QgY2xpY2tNZW51SXRlbSA9IG5vRGVmYXVsdEV2ZW50KCgpID0+IChpc09wZW4oKSA/IGNsb3NlKCkgOiBvcGVuKCkpKTtcblx0Y29uc3Qgc2F2ZURyYWZ0ID0gbm9EZWZhdWx0RXZlbnQoKCkgPT4gc3VibWl0KHsgcHVibGlzaDogbm8gfSkpO1xuXHRjb25zdCBwdWJsaXNoID0gbm9EZWZhdWx0RXZlbnQoKCkgPT4gc3VibWl0KHsgcHVibGlzaDogeWVzIH0pKTtcblxuXHQkbW9kYWwuZGlhbG9nKHtcblx0XHR0aXRsZTogJ0FkZCBQYWdlIExpbmsnLFxuXHRcdGRpYWxvZ0NsYXNzOiAnd3AtZGlhbG9nJyxcblx0XHRhdXRvT3Blbjogbm8sXG5cdFx0ZHJhZ2dhYmxlOiBubyxcblx0XHR3aWR0aDogJ2F1dG8nLFxuXHRcdG1vZGFsOiB5ZXMsXG5cdFx0cmVzaXphYmxlOiBubyxcblx0XHRjbG9zZU9uRXNjYXBlOiB5ZXMsXG5cdFx0cG9zaXRpb246IHtcblx0XHRcdG15OiAnY2VudGVyJyxcblx0XHRcdGF0OiAnY2VudGVyJyxcblx0XHRcdG9mOiB3aW5kb3csXG5cdFx0fSxcblx0XHRvcGVuOiAoKSA9PiAkKCcudWktd2lkZ2V0LW92ZXJsYXknKS5iaW5kKCdjbGljaycsIGNsb3NlKSxcblx0XHRjcmVhdGU6ICgpID0+ICQoJy51aS1kaWFsb2ctdGl0bGViYXItY2xvc2UnKS5hZGRDbGFzcygndWktYnV0dG9uJyksXG5cdH0pO1xuXG5cdC8vIEV2ZW50cy5cblx0JHRpdGxlLmtleXVwKHVwZGF0ZVNsdWcpO1xuXHQkbWVudUl0ZW0uY2xpY2soY2xpY2tNZW51SXRlbSk7XG5cdCRzYXZlRHJhZnQuY2xpY2soc2F2ZURyYWZ0KTtcblx0JHB1Ymxpc2guY2xpY2socHVibGlzaCk7XG5cdCRmb3JtLnN1Ym1pdChwdWJsaXNoKTtcbn0pO1xuIl19
